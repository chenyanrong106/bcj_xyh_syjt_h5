@{
    ViewBag.Title = "会员卡余额兑换代金券";
}

@model SPACRM.WebApp.Models.CustExchangeVoucherInfo
@section htmlhead{

    @Html.Css("plugin/validator")
    <style type="text/css">
        .h_title {
            padding: 5px 15px;
            border-bottom: solid 1px #e6e5e5;
            font-size: 18px;
            margin-bottom: 5px;
        }

        .searchpanel {
            background-color: #f7f8fa; /*border: 1px solid #ccc;*/
            padding: 5px 15px;
            margin-left: 10px;
            border-radius: 4px;
        }

            .searchpanel .form-group label {
                margin-bottom: 4px;
            }

        .divHead {
            height: 25px;
            margin-bottom: 8px;
            background-color: #FCF3D0;
            border: 1px solid #F7DC6F;
            color: #927608;
        }
    </style>
}
<div class="s_container">
    <div id="page-heading">
        <h2>
            <i class="fa fa-home"></i>会员卡余额兑换代金券</h2>
    </div>
    <div id="mainbody" class="panel panel-primary">
        <div class="panel-heading">
            <h4>兑换代金券</h4>
        </div>
        <form id="frmExchangeSave" action="@Url.Action("ExchangeSave")" method="post" role="form">
            <div class="panel-body" style="min-height: 350px">
                <div class="row">
                    <input type="hidden" id="outcid" name="outcid" />
                    <input type="hidden" id="incid" name="incid" />
                    <div class="col-md-12">
                        <div class="form-group col-xs-12">
                            <label class="col-sm-2 control-label">会员卡：</label>
                            <div class="col-sm-3 input-group">
                                <select class="form-control" id="CardID" placeholder="请选择会员卡" name="CardID" width="260px" aria-required="true">
                                    <option value="">选择会员卡...</option>
                                    @foreach (var item in ViewBag.CardList)
                                    {
                                        
                                        <option value="@item.ID" amt="@item.BALANCE">@item.CARD_NAME</option>
                                    }
                                </select>
                            </div>
                        </div>
                        <div class="form-group col-xs-12">
                            <label class="col-sm-2 control-label">使用余额：</label>
                            <div class="col-sm-3 input-group">
                                @Html.TextBox("Balance", 0, new { @class = "form-control", placeholder = "请输入使用余额", width = "260px" })
                            </div>
                        </div>
                        <div class="form-group col-xs-12">
                            <label class="col-sm-2 control-label">代金券券号：</label>
                            <div class="col-sm-8 input-group">
                                @Html.TextArea("VoucherNO", "", new { @class = "form-control", placeholder = "请输入代金券券号", style = "width:312px;height:120px;" })
                                @* <input type="button" id="btnVerifyVoucher" class="btn btn-primary" value="验 证" />*@
                                输入多个代金券用英文逗号（,）分开，例：555,666
                            </div>
                        </div>

                        <div class="form-group col-xs-12">
                            <label class="col-sm-2 control-label"></label>
                            <span id="spanVoucherBalance"></span>
                        </div>


                    </div>
                    <div class="form-group col-xs-12">
                        <label class="col-sm-2 control-label"></label>
                        <div class="col-sm-3 input-group">
                            <button type="button" id="btnSave" class="btn btn-primary">保存</button>&nbsp;&nbsp;&nbsp;
                            <button type="button" id="btnReturn" class="btn btn-default">返回</button>
                        </div>

                    </div>
                </div>
            </div>
            <input type="hidden" id="CustID" name="CustID" value="@(Model.CustID)" />

        </form>
    </div>
</div>

@section jssection{
    <script type="text/javascript">
        var util = {};
        var options = {
            validUrl: "@Url.Action("PromotionDetailInfo")",
            view360Url: "@Url.Action("View360", new { cid = Model.CustID})",
        };
    </script>
    @Html.Js("plugins/validator/validator", "app/customer/exchangevoucher")

}
